{{ define "main" }}
<article class="container mx-auto px-4 py-8 max-w-4xl">
  <header class="mb-8">
    <h1 class="text-4xl md:text-5xl font-bold mb-4">{{ .Title }}</h1>

    <div class="flex flex-wrap items-center gap-4 text-gray-600 dark:text-gray-400 mb-4">
      <time datetime="{{ .Date.Format "2006-01-02" }}">
        {{ .Date.Format "January 2, 2006" }}
      </time>

      {{ if .ReadingTime }}
        <span>{{ .ReadingTime }} min read</span>
      {{ end }}

      {{ if .Params.author }}
        <span>by {{ .Params.author }}</span>
      {{ end }}
    </div>

    {{ if .Params.tags }}
      <div class="flex flex-wrap gap-2">
        {{ range .Params.tags }}
          <a href="/tags/{{ . | urlize }}" class="px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm rounded-full hover:bg-primary hover:text-white transition-colors">
            {{ . }}
          </a>
        {{ end }}
      </div>
    {{ end }}
  </header>

  {{ if .Params.image }}
    <div class="mb-8 rounded-lg overflow-hidden">
      <img src="{{ .Params.image }}" alt="{{ .Title }}" class="w-full h-auto">
    </div>
  {{ end }}

  <div class="prose dark:prose-invert max-w-none">
    {{ .Content }}
  </div>

  <footer class="mt-12 pt-8 border-t border-gray-200 dark:border-gray-700">
    <div class="flex justify-between items-center">
      {{ with .PrevInSection }}
        <a href="{{ .Permalink }}" class="text-primary hover:underline">
          ← {{ .Title }}
        </a>
      {{ end }}

      {{ with .NextInSection }}
        <a href="{{ .Permalink }}" class="text-primary hover:underline">
          {{ .Title }} →
        </a>
      {{ end }}
    </div>
  </footer>
</article>
{{ end }}
