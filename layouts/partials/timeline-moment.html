{{- /*
Timeline moment partial — renders a single timeline entry
Context: page object with Params.{date, color, quote, linkedPost}
*/ -}}
<div class="relative pl-12 pb-6">
  {{- /* Color dot on spine */ -}}
  <div
    class="absolute left-[7px] top-1 w-[5px] h-[5px] rounded-full"
    style="{{ printf "background-color: var(--%s)" (.Params.color | default "block") | safeCSS }}"
  ></div>

  {{- /* Quote text (italic, secondary color) — clickable if linkedPost exists */ -}}
  {{ with .Params.quote }}
    {{ if $.Params.linkedPost }}
      <a
        href="{{ $.Params.linkedPost }}"
        class="font-[Literata] italic text-[var(--text-secondary)] mb-2 hover:text-[var(--text-primary)] transition-colors inline-block"
      >
        <p class="mb-2">{{ . }}</p>
      </a>
    {{ else }}
      <p class="font-[Literata] italic text-[var(--text-secondary)] mb-2">{{ . }}</p>
    {{ end }}
  {{ end }}

  {{- /* Date and optional link */ -}}
  <div class="flex items-baseline gap-2 text-xs">
    <span class="font-mono text-[var(--text-tertiary)]">
      {{- .Date.Format "Jan 2006" -}}
    </span>

    {{- /* Optional link to related post */ -}}
    {{ with .Params.linkedPost }}
      <a
        href="{{ . }}"
        class="text-[var(--primary)] hover:underline text-xs font-medium"
      >
        → Related post
      </a>
    {{ end }}
  </div>
</div>
