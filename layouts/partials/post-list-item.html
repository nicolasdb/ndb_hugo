{{/*
  post-list-item.html

  Renders a post card for use in list pages. Displays title, date, description,
  reading time, tags, and block-meta when present.

  Usage: {{ partial "post-list-item.html" (dict "post" .) }}

  Context:
    .post - The post page context
*/}}

{{ $post := .post }}
<article class="py-4 md:py-[24px] border-t border-[var(--border)]">
  <div class="flex justify-between items-start gap-8">
    <div class="flex-1">
      <h2 class="font-heading text-[20px] font-bold text-[var(--text-primary)] leading-[1.3]">
        <a href="{{ $post.RelPermalink }}" class="hover:text-[var(--text-secondary)]">{{ $post.Title }}</a>
      </h2>
      {{ with $post.Description }}
      <p class="font-body text-[15px] leading-[1.7] text-[var(--text-secondary)] mt-2 max-w-[54ch]">{{ . }}</p>
      {{ end }}
      <div class="font-mono text-[12px] text-[var(--text-tertiary)] flex items-center gap-2 mt-2 flex-wrap">
        {{ with $post.ReadingTime }}<span>{{ . }} min</span>{{ end }}
        {{ with $post.Params.tags }}
          <span>Â·</span>
          {{ range $i, $t := . }}{{ if $i }}, {{ end }}{{ $t }}{{ end }}
        {{ end }}
      </div>
      {{/* Block-meta for list item (compact view) */}}
      {{ partial "block-meta.html" (dict "page" $post) }}
    </div>
    {{ with $post.Date }}
    <span class="font-body text-[14px] text-[var(--text-tertiary)] whitespace-nowrap hidden sm:block">{{ .Format "January 2, 2006" }}</span>
    {{ end }}
  </div>
</article>
